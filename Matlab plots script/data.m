clear all;
close all;

%% Instruction Cache Size
CPI=[3.461910 3.460624 3.456934 3.457024; 7.945531 7.969685 7.949493 7.965293 ; 1.913635 1.910241 1.910241 1.910241 ; 1.736386 1.677588 1.486265 1.486265 ];
Dmisses=[0.061720 0.061720 0.061720 0.061729;0.153446 0.153451 0.15349 0.153450; 0.062202 0.062200 0.062200 0.062200;0.013556 0.013569 0.013563 0.013564];
Imisses=[0.011482 0.009935 0.009232 0.008418;0.003364 0.002994 0.002774 0.002670;0.006112 0.005582 0.005488 0.005441;0.059889 0.051205 0.002026 0.001919];
L2misses=[0.959594 0.965502 0.968142 0.971230;0.997400 0.998213 0.998718 0.998951;0.057057 0.057129 0.057179 0.057185;0.129470 0.146931 0.613095 0.617632];
plots(CPI,'CPI','Instruction Cache Size',4);
plots(Dmisses,'Data Cache miss rate','Instruction Cache Size',4);
plots(Imisses,'Instruction Cache miss rate','Instruction Cache Size',4);
plots(L2misses,'L2 Cache miss rate','Instruction Cache Size',4);
%% Data Cache Size
CPI=[3.478940 3.456934 3.451306 3.444622; 7.965293 7.949493 7.962779 7.965293 ; 1.933646 1.913635 1.908307 1.905203;1.771295 1.736386 1.728970 0 ];
Dmisses=[0.062937 0.061720 0.061091 0.060806;0.153460 0.153449 0.153408 0.153409;0.065995 0.062202 0.060808 0.060729;0.018078 0.013556 0.012829 0];
Imisses=[0.009244 0.009232 0.009233 0.009233;0.002774 0.002774 0.002774 0.002774;0.006128 0.006112 0.006112 0.006097;0.059899 0.059889 0.059892 0];
L2misses=[0.942495 0.968142 0.981751 0.987995;0.998601 0.998718 0.999002 0.999002;0.053850 0.057057 0.058354 0.058386;0.119512 0.129470 0.131051 0];
plots(CPI,'CPI','Data Cache Size',4);
plots(Dmisses,'Data Cache miss rate','Data Cache Size',4);
plots(Imisses,'Instruction Cache miss rate','Data Cache Size',4);
plots(L2misses,'L2 Cache miss rate','Data Cache Size',4);
%% Cache Line Size
CPI=[9.699059 5.538955 3.456934 2.552759;21.96954 14.75324 7.949493 8.241735;1.843887 1.787321 1.915231 1.985825;2.315445 1.864458 1.737384 1.624463];
Dmisses=[0.241518 0.121348 0.061720 0.032965;0.366110 0.259646 0.153449 0.100604;0.040874 0.046593 0.062200 0.071997;0.019322 0.015591 0.013556 0.010012];
Imisses=[0.007164 0.008395 0.009232 0.009571;0.003345 0.002979 0.002774 0.002079;0.004987 0.005668 0.006097 0.006985;0.083368 0.062235 0.059889 0.064510];
L2misses=[0.996903 0.990700 0.968142 0.886082;0.999545 0.999205 0.998718 0.998170;0.295216 0.139839 0.057207 0.029782;0.218607 0.210363 0.129575 0.072427];
plots(CPI,'CPI','Cache Line Size',4);
plots(Dmisses,'Data Cache miss rate','Cache Line Size',4);
plots(Imisses,'Instruction Cache miss rate','Cache Line Size',4);
plots(L2misses,'L2 Cache miss rate','Cache Line Size',4);
%% L2 Cache Size
CPI=[3.541452 3.513728 3.456934 3.375666 3.375666;7.897627 8.001439 7.949493 7.894459 7.764501;1.913635 1.913635 1.913635 1.913635 1.913635;1.736586 1.736386 1.736386 1.736386 1.736386];
Dmisses=[0.061720 0.061720 0.061720 0.061720 0.061720;0.151692 0.153450 0.153449 0.153432 0.153406;0.062202 0.062202 0.062202 0.062202 0.062202;0.013558 0.013556 0.013556 0.013556 0.013556];
Imisses=[0.009232 0.009232 0.009232 0.009232 0.009232;0.002774 0.002774 0.002774 0.002774 0.002774;0.006112 0.006112 0.006112 0.006112 0.006112;0.059889 0.059889 0.059889 0.059889 0.059889];
L2misses=[0.968160 0.968142 0.968142 0.968142 0.968142;0.998718 0.998718 0.998718 0.998718 0.998718;0.057094 0.057057 0.057057 0.057057 0.057057;0.129890 0.129523 0.129470 0.129470 0.129470];
plots(CPI,'CPI','L2 Cache Size',5);
plots(Dmisses,'Data Cache miss rate','L2 Cache Size',5);
plots(Imisses,'Instruction Cache miss rate','L2 Cache Size',5);
plots(L2misses,'L2 Cache miss rate','L2 Cache Size',5);
%% Instruction Cache Associativity
CPI=[3.456934 3.457024;7.949493 7.952323;1.913635 1.910241;1.736386 1.666189];
Dmisses=[0.061720 0.061720;0.153449 0.153446;0.062202 0.062200;0.013556 0.013556];
Imisses=[0.009232 0.008418;0.002774 0.002525;0.006112 0.005550;0.059889 0.039244];
L2misses=[0.968142 0.971230;0.998718 0.999287;0.057057 0.057170;0.129470 0.180444];
plots(CPI,'CPI','Instruction Cache Associativity',2);
plots(Dmisses,'Data Cache miss rate','Instruction Cache Associativity',2);
plots(Imisses,'Instruction Cache miss rate','Instruction Cache Associativity',2);
plots(L2misses,'L2 Cache miss rate','Instruction Cache Associativity',2);
%% Data Cache Associativity
CPI=[3.456934 3.441340;7.949493 7.962779;1.913635 1.279277;1.736386 1.702102];
Dmisses=[0.061720 0.060522;0.153449 0.153408;0.062202 0.003494;0.013556 0.009524];
Imisses=[0.009232 0.009233;0.002774 0.002774;0.006112 0.006114;0.059889 0.060138];
L2misses=[0.968142 0.994253;0.998718 0.999015;0.057057 0.839695;0.129470 0.140173];
plots(CPI,'CPI','Data Cache Associativity',2);
plots(Dmisses,'Data Cache miss rate','Data Cache Associativity',2);
plots(Imisses,'Instruction Cache miss rate','Data Cache Associativity',2);
plots(L2misses,'L2 Cache miss rate','Data Cache Associativity',2);
%% L2 Cache Associativity
CPI=[3.460866 3.456934;7.952529 7.949493;1.915231 1.913635;1.737384 1.736386];
Dmisses=[0.061720 0.061720;0.151636 0.153449;0.062200 0.062202;0.013556 0.013556];
Imisses=[0.009232 0.009232;0.002774 0.002774;0.006097 0.006112;0.059889 0.059889];
L2misses=[0.968778 0.968142;0.998718 0.998718;0.057207 0.057057;0.129575 0.129470];
plots(CPI,'CPI','L2 Cache Associativity',2);
plots(Dmisses,'Data Cache miss rate','L2 Cache Associativity',2);
plots(Imisses,'Instruction Cache miss rate','L2 Cache Associativity',2);
plots(L2misses,'L2 Cache miss rate','L2 Cache Associativity',2);


